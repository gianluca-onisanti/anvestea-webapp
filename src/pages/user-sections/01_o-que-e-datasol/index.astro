---
/// INDEX DE USUÁRIOS
import Layout from "../../../layouts/Layout.astro";
import SideMenu from "../../../components/SideMenu.astro";

const pageTitle = 'Sessão de Usuários - Datasol'

---

<script>
    // Extrair o parâmetro 'markdown' da URL
    const urlParams = new URLSearchParams(window.location.search)
    const markdownIndex = urlParams.get("markdown") || 0

    // Aqui definimos o markdown dessa Sessão
    const markdownFiles = [
        "./01_introducao", 
        "./02_ferramentas",
        "./03_personalizacao"
    ]

    // Verificar se o índice é válido
    if (
        Number(markdownIndex) >= 0 &&
        Number(markdownIndex) < markdownFiles.length
    ) {
        const markdownFile = markdownFiles[Number(markdownIndex)];

        // Carregar o conteúdo Markdown usando fetch
        fetch(markdownFile)
            .then((response) => response.text())
            .then((markdownContent) => {
                // Renderizar o conteúdo Markdown no elemento 'main'
                const mainElement = document.querySelector("main")
                mainElement && (mainElement.innerHTML = markdownContent)
            })
            .catch((error) => {
                console.error("Erro ao carregar o arquivo Markdown:", error)
                // Lógica para lidar com o erro (exibir uma mensagem de erro, etc.)
            });
    } else {
        console.error("Índice de Markdown inválido:", markdownIndex)
        // Lógica para lidar com o índice inválido
    }
</script>

<SideMenu
    role="user"
    isOpen={true}
    links={[
        {
            href: "../",
            icon: "arrow_back",
            label: "Voltar ao Menu",
        },
        {
            href: "./?markdown=0",
            icon: "light",
            label: "Datasol: Introdução",
        },
        {
            href: "./?markdown=1",
            icon: "construction",
            label: "Datasol: Ferramentas",
        },
        {
            href: "./?markdown=2",
            icon: "format_paint",
            label: "Datasol: Personalização",
        }
    ]}
    
/>

<Layout id="titulo" title={pageTitle}>
    <main style="max-width: 750px;">
    </main>
</Layout>
